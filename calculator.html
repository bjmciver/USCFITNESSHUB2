<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Calculator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <section id="calculator" class="calculator-section">
    <h2>Fitness Calculator</h2>
    <p class="section-subtitle">Enter your info below to get tailored calorie and protein goals.</p>

    <div class="calc-grid" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px;">
      <!-- Form -->
      <div class="card">
        <h3>Personal Information</h3>
        <form id="calc-form">
          <label>Height (ft)</label>
          <input type="number" id="height" placeholder="5.10">
          
          <label>Weight (lbs)</label>
          <input type="number" id="weight" placeholder="160">
          
          <label>Age</label>
          <input type="number" id="age" placeholder="20">
          
          <label>Gender</label>
          <select id="gender">
            <option>Male</option>
            <option>Female</option>
          </select>
          
          <label>Activity Level</label>
          <select id="activity">
            <option value="1.2">Sedentary</option>
            <option value="1.375">Lightly Active</option>
            <option value="1.55">Moderately Active</option>
            <option value="1.725">Very Active</option>
          </select>
          
          <label>Goal</label><br>
          <input type="radio" name="goal" value="lose"> Lose Weight
          <input type="radio" name="goal" value="maintain" checked> Maintain
          <input type="radio" name="goal" value="gain"> Gain
          <br><br>
          
          <button type="submit">Calculate</button>
          <button type="reset" id="reset-btn">Reset</button>
        </form>
      </div>

      <!-- Image + Example Result + Dynamic User Result -->
      <div>
        <div class="card">
          <img src="https://images.unsplash.com/photo-1685660477895-f1b6a417466b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmaXRuZXNzJTIwY2FsY3VsYXRvciUyMGhlYWx0aCUyMHRyYWNraW5nfGVufDF8fHx8MTc1NzUyNjA4NHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral" alt="Health device" style="width:100%; height:220px; object-fit:cover; border-radius:10px;">
        </div>

        <div class="card" style="text-align:center;">
          <h3>Example Result</h3>
          <p>A 20-year-old student, 5’10”, 160 lbs, moderately active, trying to gain weight and muscle</p>
          <div class="result-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:1rem;">
            <div class="result-box" style="background:#f3f3f3; border-radius:8px; padding:15px;">
              <strong style="display:block; font-size:1.4rem; color:#222;">~2,700</strong>
              <span style="font-size:0.9rem; color:#555;">Calories to maintain</span>
            </div>
            <div class="result-box" style="background:#f3f3f3; border-radius:8px; padding:15px;">
              <strong style="display:block; font-size:1.4rem; color:#222;">~170g</strong>
              <span style="font-size:0.9rem; color:#555;">Protein goal</span>
            </div>
          </div>
        </div>

        <!-- User Result (always visible) -->
        <div id="user-result" class="card" style="text-align:center;">
          <h3>Your Result</h3>
          <p id="user-summary">Fill out the form and click calculate to see your results.</p>
          <div class="result-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:1rem;">
            <div class="result-box" style="background:#f3f3f3; border-radius:8px; padding:15px;">
              <strong id="user-calories" style="display:block; font-size:1.4rem; color:#222;">0</strong>
              <span style="font-size:0.9rem; color:#555;">Calories to maintain</span>
            </div>
            <div class="result-box" style="background:#f3f3f3; border-radius:8px; padding:15px;">
              <strong id="user-protein" style="display:block; font-size:1.4rem; color:#222;">0g</strong>
              <span style="font-size:0.9rem; color:#555;">Protein goal</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Inline CSS (original) -->
    <style>
      .calculator-section { padding: 3rem 1rem; max-width: 1200px; margin: auto; }
      .calculator-section h2 { font-size: 2rem; color: #73000a; text-align: center; }
    </style>

    <!-- Calculator JS (original) -->
    <script>
      document.getElementById("calc-form").addEventListener("submit", function(e) {
        e.preventDefault(); // prevent reload

        const weight = parseFloat(document.getElementById("weight").value) || 160;
        const height = parseFloat(document.getElementById("height").value) || 5.10;
        const age = parseFloat(document.getElementById("age").value) || 20;
        const gender = document.getElementById("gender").value;
        const activity = parseFloat(document.getElementById("activity").value);

        // BMR (simplified Mifflin-St Jeor)
        let bmr;
        if (gender === "Male") {
          bmr = 66 + (6.23 * weight) + (12.7 * (height*12)) - (6.8 * age);
        } else {
          bmr = 655 + (4.35 * weight) + (4.7 * (height*12)) - (4.7 * age);
        }

        const calories = Math.round(bmr * activity);
        const protein = Math.round(weight * 1.1);

        // Update results
        document.getElementById("user-calories").textContent = "~" + calories;
        document.getElementById("user-protein").textContent = "~" + protein + "g";
        document.getElementById("user-summary").textContent =
          `Based on your info: ${age} years old, ${height} ft, ${weight} lbs, activity factor ${activity}`;
      });

      // Reset button
      document.getElementById("reset-btn").addEventListener("click", function() {
        document.getElementById("user-calories").textContent = "0";
        document.getElementById("user-protein").textContent = "0g";
        document.getElementById("user-summary").textContent = "Fill out the form and click calculate to see your results.";
      });
    </script>
  </section>
</body>
</html>