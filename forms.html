<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Feedback & Assessment Forms</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      margin: 18px;
      color: #222;
      background: #f7f8fb;
    }
    .container { max-width: 900px; margin: 0 auto; }
    h2 { margin-bottom: 14px; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .card {
      background: #fff;
      padding: 16px;
      border-radius: 8px;
      border: 1px solid #e3e6ec;
      box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    }
    label { display: block; margin-top: 12px; font-weight: 600; }
    input, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
      box-sizing: border-box;
      border: 1px solid #cfd6e3;
      border-radius: 6px;
      font-size: 0.95rem;
    }
    textarea { resize: vertical; }
    .goal-options label { display: inline-block; margin-right: 12px; font-weight: 400; }
    .form-actions { margin-top: 16px; display: flex; gap: 10px; }
    .btn {
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid #cfd6e3;
      background: #f4f6fb;
      cursor: pointer;
    }
    .btn-primary {
      background: #0575e6;
      color: #fff;
      border-color: rgba(0,0,0,0.06);
    }
    .error-message {
      color: #d9534f;
      font-size: 0.9rem;
      margin-top: 5px;
      display: block;
    }
    input.invalid, textarea.invalid {
      border: 2px solid #d9534f;
      background: #fff5f5;
    }
    @media (max-width:700px){ .two-col{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <section id="forms" class="section">
    <div class="container">
      <h2>Feedback & Assessment Forms</h2>

      <div class="two-col">
        <!-- Fitness Assessment -->
        <div class="card">
          <h3>Fitness Assessment</h3>
          <form id="fitness-assessment-form" novalidate>
            <label for="fa-name">Name *</label>
            <input id="fa-name" name="name" type="text" required>

            <label for="fa-email">Email *</label>
            <input id="fa-email" name="email" type="email" required>

            <label>Goal</label>
            <div class="goal-options">
              <label><input type="radio" name="goal" value="lose"> Lose Weight</label>
              <label><input type="radio" name="goal" value="maintain" checked> Maintain</label>
              <label><input type="radio" name="goal" value="gain"> Gain</label>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Submit</button>
              <button type="reset" class="btn">Reset</button>
            </div>
          </form>
        </div>

        <!-- Feedback Form -->
        <div class="card">
          <h3>Feedback Form</h3>
          <form id="feedback-form" novalidate>
            <label for="fb-name">Name *</label>
            <input id="fb-name" name="name" type="text" required>

            <label for="fb-email">Email *</label>
            <input id="fb-email" name="email" type="email" required>

            <label for="fb-comments">Comments</label>
            <textarea id="fb-comments" name="comments" rows="6"></textarea>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Submit</button>
              <button type="reset" class="btn">Reset</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    function isValidEmail(value) {
      return /^[^\\s@]+@[^\\s@]+\\.[a-z]{2,}$/i.test(value.trim());
    }

    function showError(el, msg) {
      clearError(el);
      const error = document.createElement('span');
      error.className = 'error-message';
      error.textContent = msg;
      el.insertAdjacentElement('afterend', error);
      el.classList.add('invalid');
    }

    function clearError(el) {
      el.classList.remove('invalid');
      const next = el.nextElementSibling;
      if (next && next.classList.contains('error-message')) next.remove();
    }

    function validateForm(form) {
      let valid = true;

      // check required fields
      form.querySelectorAll('[required]').forEach(input => {
        clearError(input);
        const val = input.value.trim();
        if (!val) {
          showError(input, 'This field is required');
          valid = false;
        } else if (input.type === 'email' && !isValidEmail(val)) {
          showError(input, 'Please enter a valid email');
          valid = false;
        }
      });

      // radio check for fitness form
      if (form.id === 'fitness-assessment-form') {
        const radios = form.querySelectorAll('input[name="goal"]');
        const anyChecked = Array.from(radios).some(r => r.checked);
        const existing = form.querySelector('.error-message--radio');
        if (existing) existing.remove();
        if (!anyChecked) {
          const err = document.createElement('span');
          err.className = 'error-message error-message--radio';
          err.textContent = 'Please select a goal';
          radios[radios.length - 1].insertAdjacentElement('afterend', err);
          valid = false;
        }
      }
      return valid;
    }

    document.querySelectorAll('form').forEach(form => {
      form.setAttribute('novalidate', 'novalidate');

      form.addEventListener('submit', e => {
        e.preventDefault();
        e.stopPropagation();
        form.querySelectorAll('.error-message--radio').forEach(n => n.remove());

        if (!validateForm(form)) return;

        alert('âœ… Form submitted successfully!');
        form.reset();
        form.querySelectorAll('.error-message').forEach(n => n.remove());
        form.querySelectorAll('.invalid').forEach(i => i.classList.remove('invalid'));
      });

      form.addEventListener('input', e => {
        if (e.target.matches('[required], input[type="email"], textarea')) {
          clearError(e.target);
        }
        if (e.target.type === 'radio') {
          form.querySelectorAll('.error-message--radio').forEach(n => n.remove());
        }
      });

      form.addEventListener('reset', () => {
        setTimeout(() => {
          form.querySelectorAll('.error-message').forEach(n => n.remove());
          form.querySelectorAll('.invalid').forEach(i => i.classList.remove('invalid'));
        }, 0);
      });
    });
  });
  </script>
</body>
</html>





